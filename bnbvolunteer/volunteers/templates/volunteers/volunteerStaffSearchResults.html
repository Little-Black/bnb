{% extends "volunteers/staff_templates/base_staff_search.html" %}
{% load staticfiles %}

{% block specificCss %}
  <link rel="stylesheet" type="text/css" href="{% static 'volunteers/css/Bootstrap/datepicker.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'volunteers/css/search.css' %}" />
{% endblock specificCss %}

{% block tabcontent %}
<form action="{% url 'volunteerStaffUserSearchResult' %}" method="post">{% csrf_token %}

<div class="input-group search">


<input type="text" class="form-control" Placeholder="Last Name"  name="lastname">
<span class="input-group-btn">
  <input type="submit"  class="btn btn-default" value="Go!">
</span>
</div>

<div class="add-logs">
  <p class="add-label">Filters: </p>
  <br>
  <p class="credits-label">Credits between</p>
  <input name="creditsDown" class="DateInput" type="number" value={{creditsDown}}>
  <p class="credits-label">and </p>
  <input name="creditsUp" class="DateInput" type="number" value={{creditsUp}}>
  <br>
  <p class="credits-label">Phone</p>
  <input name="phone" class="DateInput" type="text" value={{phone}}>
  <p class="credits-label">Email</p>
  <input name="email" class="DateInput" type="text" value={{email}}>
  <input type="submit" Value="Search" class="btn btn-default">
</div>



</form>

    
<div class="panel panel-default results">
    <div class="panel-heading">Users</div>
    <form action="" method="post">{% csrf_token %}
    <table class="table">
        <tr>
            <th>Username</th>
            <th>Last Name</th>
            <th>First Name</th>
            <th>Phone Number</th>
            <th>Address</th>
      <th>Credits Avaliable</th>
      <th>Selected
		<input type="checkbox" name="allSelect" id="allSelect"></input> 
      </th>
        </tr>
        {% for item in search_results %}
        <tr> 
          <td><a href="../user/?getuser={{item}}" >{{ item }}</a></td>
            <td>{{ item.last_name }}</td>
            <td>{{ item.first_name }}</td>
            <td>{{ item.profile.phone }}</td>
      <td>{{ item.profile.address }}</td>
      <td>{{ item.profile.credit }}</td>
      <td><input name="{{item.username}}"type="checkbox" id="checkbox-{{ item.id }}"></td>
        </tr>
        {% endfor %}
    </table>
</div>

<div class="add-logs">
  <p class="add-label">Add activities to selected users</p>
  <p class="description-label">Description:</p><input type="text" name="description">
  <p class="credits-label">Credits:</p>
  <input type="number" name="credits">
  <p class="credits-label">Activity Type:</p>
  <select name="activityType">
    {% for type in type_choices %}
    <option {% if type.name == typeSelected %}selected{% endif %} value="{{type}}">{{type}}</option>
    {% endfor %}  
  </select>
  <p class="credits-label">Date Done:</p>
  <input name="dateDone" class="DateInput" id="date1" type="text" format="y-m-d" value={{dateDone}}>
  <input type="submit" value="Submit" class="btn btn-default">
  </form>
  {{inform}}
</div>
{% endblock tabcontent %}

{% block jsfiles %}
<script src="{% static 'volunteers/js/JQuery/jquery-1.11.2.min.js'%}"></script>
<script src="{% static 'volunteers/js/JQuery/bootstrap-datepicker.js'%}"></script>
<script type="text/javascript">
  $(document).ready(function(){
      $('#date1').datepicker({format: "yyyy-mm-dd"});
      $('#date2').datepicker({format: "yyyy-mm-dd"});
      });
  </script>
<script type="text/javascript">
	$('#allSelect').click(function(event){
		if(this.checked){
			$(':checkbox').each(function(){this.checked = true;});
			}
		else{
			$(':checkbox').each(function(){this.checked = false;});
			}	
			});
	</script>
{% endblock jsfiles %}
